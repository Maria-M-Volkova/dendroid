import{_ as E,B as $}from"./BottomNavLayout-BNkIRkT8.js";import{r as p,o as B,a as r,b as t,d as L,t as n,F as g,e as C,h as c}from"./index-B1HEurfJ.js";const N={class:"more"},P={key:0,class:"loading"},V={key:1,class:"error"},I={key:2,class:"forecast-list"},F=["onClick"],W={class:"top-row"},b={class:"date"},z={class:"temp"},S={class:"emoji weather"},q={class:"middle-row"},A={class:"detail wind"},G={class:"detail precipitation"},H={class:"moon-row"},J={class:"moon-emoji"},K={class:"moon-phase"},O={__name:"MoreView",setup(Q){const d=p(!0),l=p(null),h=p([]);B(async()=>{if(!navigator.geolocation){l.value="–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º.",d.value=!1;return}navigator.geolocation.getCurrentPosition(async s=>{const o=s.coords.latitude,e=s.coords.longitude;try{const a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${o}&longitude=${e}&daily=temperature_2m_max,precipitation_sum,windspeed_10m_max,winddirection_10m_dominant&timezone=auto&windspeed_unit=ms`)).json(),m=["üåë","üåí","üåì","üåî","üåï","üåñ","üåó","üåò"],u=["–ù–æ–≤–æ–ª—É–Ω–∏–µ","–†–∞—Å—Ç—É—â–∞—è (1 —á–µ—Ç–≤–µ—Ä—Ç—å)","–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å","–†–∞—Å—Ç—É—â–∞—è (2 —á–µ—Ç–≤–µ—Ä—Ç—å)","–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ","–£–±—ã–≤–∞—é—â–∞—è (3 —á–µ—Ç–≤–µ—Ä—Ç—å)","–¢—Ä–µ—Ç—å—è —á–µ—Ç–≤–µ—Ä—Ç—å","–£–±—ã–≤–∞—é—â–∞—è (4 —á–µ—Ç–≤–µ—Ä—Ç—å)"],k=new Date().getDay();h.value=a.daily.time.map((x,_)=>{const v=Math.round(a.daily.temperature_2m_max[_]),f=Math.round(a.daily.precipitation_sum[_]*10)/10,w=((k+_)%8+8)%8,M=y(v,f);return{dateLocale:j(x),temperature:v,precipitation:f,wind_speed:Math.round(a.daily.windspeed_10m_max[_]),wind_dir:D(a.daily.winddirection_10m_dominant[_]),weatherEmoji:M,moonEmoji:m[w],moonPhase:u[w]}}),d.value=!1}catch(i){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞:",i),l.value="–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã.",d.value=!1}},()=>{l.value="–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ.",d.value=!1})});function y(s,o){return o>0?"üåß":s>=25?"‚òÄÔ∏è":s>=15?"üå§":s>=5?"‚òÅÔ∏è":"‚ùÑÔ∏è"}function D(s){return["–°","–°–í","–í","–Æ–í","–Æ","–Æ–ó","–ó","–°–ó"][Math.round(s/45)%8]||"‚Äî"}function j(s){const o=new Date(s),e=["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"],i=["—è–Ω–≤–∞—Ä—è","—Ñ–µ–≤—Ä–∞–ª—è","–º–∞—Ä—Ç–∞","–∞–ø—Ä–µ–ª—è","–º–∞—è","–∏—é–Ω—è","–∏—é–ª—è","–∞–≤–≥—É—Å—Ç–∞","—Å–µ–Ω—Ç—è–±—Ä—è","–æ–∫—Ç—è–±—Ä—è","–Ω–æ—è–±—Ä—è","–¥–µ–∫–∞–±—Ä—è"],a=e[o.getDay()],m=o.getDate(),u=i[o.getMonth()];return`${a}, ${m} ${u}`}return(s,o)=>(c(),r(g,null,[t("div",N,[o[0]||(o[0]=t("header",{class:"more-header"},[t("h1",null,"–ï—â–µ")],-1)),o[1]||(o[1]=t("h2",null,"–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ 7 –¥–Ω–µ–π",-1)),d.value?(c(),r("div",P,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ...")):l.value?(c(),r("div",V,n(l.value),1)):(c(),r("div",I,[(c(!0),r(g,null,C(h.value,(e,i)=>(c(),r("div",{key:i,class:"forecast-item",onClick:a=>s.openDetails(e)},[t("div",W,[t("span",b,n(e.dateLocale),1),t("span",z,n(e.temperature)+"¬∞C",1),t("span",S,n(e.weatherEmoji),1)]),t("div",q,[t("span",A,n(e.wind_speed)+" –º/—Å "+n(e.wind_dir),1),t("span",G,n(e.precipitation>0?"–û–±—ä–µ–º –æ—Å–∞–¥–∫–æ–≤: "+e.precipitation+"–º–º":""),1)]),t("div",H,[t("span",J,n(e.moonEmoji),1),t("span",K,n(e.moonPhase),1)])],8,F))),128))]))]),L($)],64))}},X=E(O,[["__scopeId","data-v-3a4c8106"]]);export{X as default};
