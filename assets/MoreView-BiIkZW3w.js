import{_ as C,B as L}from"./BottomNavLayout-cDqrbmY5.js";import{r as p,o as N,a as r,b as t,d as P,t as s,F as j,e as V,h as c}from"./index-CJK016U_.js";const F={class:"more"},I={key:0,class:"loading"},T={key:1,class:"error"},W={key:2,class:"forecast-list"},b=["onClick"],z={class:"top-row"},S={class:"date"},q={class:"temp"},A={class:"emoji weather"},G={class:"middle-row"},H={class:"detail wind"},J={class:"detail precipitation"},K={class:"moon-row"},O={class:"moon-emoji"},Q={class:"moon-phase"},R={__name:"MoreView",setup(U){const d=p(!0),m=p(null),h=p([]);N(async()=>{if(!navigator.geolocation){m.value="–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º.",d.value=!1;return}navigator.geolocation.getCurrentPosition(async n=>{const o=n.coords.latitude,e=n.coords.longitude;try{const a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${o}&longitude=${e}&daily=temperature_2m_max,precipitation_sum,windspeed_10m_max,winddirection_10m_dominant&timezone=auto&windspeed_unit=ms`)).json(),l=[{emoji:"üåë",name:"–ù–æ–≤–æ–ª—É–Ω–∏–µ"},{emoji:"üåí",name:"–†–∞—Å—Ç—É—â–∏–π —Å–µ—Ä–ø"},{emoji:"üåì",name:"–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å"},{emoji:"üåî",name:"–†–∞—Å—Ç—É—â–∞—è –ª—É–Ω–∞"},{emoji:"üåï",name:"–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ"},{emoji:"üåñ",name:"–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞"},{emoji:"üåó",name:"–¢—Ä–µ—Ç—å—è —á–µ—Ç–≤–µ—Ä—Ç—å"},{emoji:"üåò",name:"–£–±—ã–≤–∞—é—â–∏–π —Å–µ—Ä–ø"}];h.value=a.daily.time.map((u,_)=>{const f=Math.round(a.daily.temperature_2m_max[_]),v=Math.round(a.daily.precipitation_sum[_]*10)/10,k=new Date,x=new Date(2e3,0,6),E=(k.getTime()-x.getTime())/(1e3*60*60*24),w=29.53,$=Math.floor(E%w/(w/8)),g=l[$]||l[0],B=y(f,v);return{dateLocale:M(u),temperature:f,precipitation:v,wind_speed:Math.round(a.daily.windspeed_10m_max[_]),wind_dir:D(a.daily.winddirection_10m_dominant[_]),weatherEmoji:B,moonEmoji:g.emoji,moonPhase:g.name}}),d.value=!1}catch(i){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞:",i),m.value="–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã.",d.value=!1}},()=>{m.value="–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ.",d.value=!1})});function y(n,o){return o>0?"üåß":n>=25?"‚òÄÔ∏è":n>=15?"üå§":n>=5?"‚òÅÔ∏è":"‚ùÑÔ∏è"}function D(n){return["–°","–°–í","–í","–Æ–í","–Æ","–Æ–ó","–ó","–°–ó"][Math.round(n/45)%8]||"‚Äî"}function M(n){const o=new Date(n),e=["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"],i=["—è–Ω–≤–∞—Ä—è","—Ñ–µ–≤—Ä–∞–ª—è","–º–∞—Ä—Ç–∞","–∞–ø—Ä–µ–ª—è","–º–∞—è","–∏—é–Ω—è","–∏—é–ª—è","–∞–≤–≥—É—Å—Ç–∞","—Å–µ–Ω—Ç—è–±—Ä—è","–æ–∫—Ç—è–±—Ä—è","–Ω–æ—è–±—Ä—è","–¥–µ–∫–∞–±—Ä—è"],a=e[o.getDay()],l=o.getDate(),u=i[o.getMonth()];return`${a}, ${l} ${u}`}return(n,o)=>(c(),r(j,null,[t("div",F,[o[0]||(o[0]=t("header",{class:"more-header"},[t("h1",null,"–ï—â–µ")],-1)),o[1]||(o[1]=t("h2",null,"–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ 7 –¥–Ω–µ–π",-1)),d.value?(c(),r("div",I,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ...")):m.value?(c(),r("div",T,s(m.value),1)):(c(),r("div",W,[(c(!0),r(j,null,V(h.value,(e,i)=>(c(),r("div",{key:i,class:"forecast-item",onClick:a=>n.openDetails(e)},[t("div",z,[t("span",S,s(e.dateLocale),1),t("span",q,s(e.temperature)+"¬∞C",1),t("span",A,s(e.weatherEmoji),1)]),t("div",G,[t("span",H,s(e.wind_speed)+" –º/—Å "+s(e.wind_dir),1),t("span",J,s(e.precipitation>0?"–û–±—ä–µ–º –æ—Å–∞–¥–∫–æ–≤: "+e.precipitation+"–º–º":""),1)]),t("div",K,[t("span",O,s(e.moonEmoji),1),t("span",Q,s(e.moonPhase),1)])],8,b))),128))]))]),P(L)],64))}},te=C(R,[["__scopeId","data-v-e4a2e125"]]);export{te as default};
